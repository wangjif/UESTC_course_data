# 函数

## 1. 函数的概念

​	由若干语句组成的语句块、函数名称、参数列表构成，具有独立功能的代码块称为函数

## 2. 函数的作用

​	在结构化编程中，函数是对代码的最基本的封装，一般都是按照功能来封装，封装是为了可以开发程序可以重复使用，减少相同功能代码的冗余，提高编写代码的效率，代码更加简洁，可读性强。

## 3. 函数的定义和调用

### 3.1 格式

```python
def 函数名():
    代码块
```

### 3.2 调用

​	定义了函数之后，就相当于有了一个具有某些功能的代码，想要让这些代码能够执行，需要调用它，调用函数很简单的，通过 **函数名()** 即可完成调用

```python
# 函数的定义
def printof():
    print("---------------------")
    print("人生苦短，我要白给")
    print("---------------------")
# 函数的调用
printof()
```

### 3.4 函数参数

```python
# 定义
def 函数名(参数1,参数2):
    代码块
# 调用
函数名(参数1,参数2)


def add(a,b):
    c = a + b
    print(c)
# 调用有参函数
add(3, 5)
```

### 3.5 函数返回值

​	解决了如何将值传入函数中，但如何获得函数计算出来的结果呢，想要在函数把结果返回给调用者，需要在函数中使用return。有return才可以返回数据

```python
# 有参函数的定义,并返回结果给调用者
def add(a,b):
    c = a + b
    return c

# 调用有参函数并获取结果
# 方式一：
print(add(3, 5))
# 方式二：
#调用函数，顺便保存函数的返回值
result = add(3,5)
#因为result已经保存了add的返回值，所以接下来就可以使用了
print(result)
```

### 练习：自定义函数求和

```python
def sum3(a,b,c):
    return a+b+c

def avg3(a,b,c):
    sum_result = sum3(a,b,c)
    avg_result = sum_result/3
    return avg_result

res = avg3(10,20,30)

print("avg: %d"%res)
```



## 4. 局部变量和全局变量

## 4.1局部变量

​	定义在函数内部的变量

```python
def test1():
    a = 200 # 局部变量
    print("---------test1--修改前--a=%d"%a)
    a = 300 # 局部变量可以修改值
    print("---------test1--修改后--a=%d"%a)

   def test2():
    a = 4000 # 局部变量，不同函数，局部变量名可以相同，互不影响
    print("---------test2--a=%d"%a)
test1()
test2()
```

**总结：**

- 局部变量，就是在函数内部定义的变量
- 不同的函数，可以定义相同的名字的局部变量，但是各用个的不会产生影响
- 局部变量的作用，为了临时保存数据需要在函数中定义变量来进行存储，这就是它的作用



## 4.2 全局变量

​	如果一个变量，既能在一个函数中使用，也能在其他的函数中使用，这样的变量就是全局变量

```python
# 定义一个全局变量
a = 100
# 定义两个函数
def test1():
    print(a)
def test2():
    print(a)
```



## 4.3 同名问题

​	当全局变量和局部变量同名，如何修改全局变量的值

```python
# 定义一个全局变量
a = 100

def test1():
    a = 200 # 局部变量
    print("---------test1--修改前--a=%d"%a)
    a = 300 # 局部变量可以修改值
    print("---------test1--修改后--a=%d"%a)
def test2():
    a = 4000 # 局部变量
    print("---------test2--a=%d"%a)
test1()
test2()
```

修改全局变量方法：使用`global`在变量名前进行声明

**总结：函数内部为局部，函数外部声明为全局**

```python
# 定义一个全局变量
a = 100
def test1():
    global a #变量名a被global修饰之后，就变成了全局变量
    a = 600 # 修改全局变量的值
    print("---------test1--修改全局变量值后--a=%d"%a)
    a = 300 # 局部变量变为全局变量，再次修改了全局变量的值
    print("---------test1--全局变量--a=%d"%a)
def test2():
    a = 400 # 局部变量不变
    print("---------test2--局部变量a=%d"%a)
def test3():
    print('---全局变量---a=%d'%a)
test1()
test2()
test3()
```

**总结：**

- 在函数外边定义的变量叫做 全局变量
- 全局变量能够在所有的函数中进行访问如果在函数中修改全局变量，那么就需要使用 global 进行声明，否则出错
- 如果全局变量的名字和局部变量的名字相同，那么使用的是局部变量的，小技巧：**就近原则**



## 作用域

1.在一个函数中定义的变量，只能在本函数中用(局部变量)

2.在函数外定义的变量，可以在所有的函数中使用(全局变量)

